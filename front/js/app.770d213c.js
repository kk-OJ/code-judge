(function(){"use strict";var e={8493:function(e,t,n){var a=n(5130),o=n(6768),l=n(4232);const u={style:{height:"100vh",padding:"0 0"}};function r(e,t,n,a,r,c){const s=(0,o.g2)("CodeEditor"),i=(0,o.g2)("ResultInfo"),d=(0,o.g2)("a-split");return(0,o.uX)(),(0,o.CE)("div",u,[(0,o.bF)(d,{style:(0,l.Tr)({height:"100vh",border:"1px solid var(--color-border)"}),min:"350px"},{first:(0,o.k6)((()=>[(0,o.bF)(s,{loading:a.loading,onExecuteCode:a.executeCode},null,8,["loading","onExecuteCode"])])),second:(0,o.k6)((()=>[(0,o.bF)(i,{loading:a.loading,ref:"resultInfoRef"},null,8,["loading"])])),_:1},8,["style"])])}var c=n(144),s=n(6587),i=n.n(s),d=n(8316);const p=e=>((0,o.Qi)("data-v-10562503"),e=e(),(0,o.jt)(),e),g={class:"kk-class"},v=p((()=>(0,o.Lk)("div",{style:{height:"40px"}},null,-1))),f={class:"kk-card-body"},k=p((()=>(0,o.Lk)("div",{style:{height:"40px"}},null,-1))),y={class:"kk-card-body"};function h(e,t,n,a,u,r){const c=(0,o.g2)("GithubOutlined"),s=(0,o.g2)("a-tooltip"),i=(0,o.g2)("ImportOutlined"),d=(0,o.g2)("a-upload"),p=(0,o.g2)("a-card"),h=(0,o.g2)("a-textarea"),b=(0,o.g2)("a-spin"),C=(0,o.g2)("CopyOutlined");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(p,{title:a.t("Run Results"),headStyle:{backgroundColor:"#f2f2f2",height:"56px",userSelect:"none"},bodyStyle:{backgroundColor:"#fdfdfd"}},{extra:(0,o.k6)((()=>[(0,o.bF)(s,null,{title:(0,o.k6)((()=>[(0,o.eW)("Github")])),default:(0,o.k6)((()=>[(0,o.bF)(c,{onClick:a.toGithub,style:{"font-size":"20px",cursor:"pointer"}},null,8,["onClick"])])),_:1})])),default:(0,o.k6)((()=>[(0,o.Lk)("div",g,[(0,o.Lk)("div",null,[(0,o.bF)(p,{title:a.t("Input Data"),headStyle:{backgroundColor:"#f2f2f2",userSelect:"none"}},{extra:(0,o.k6)((()=>[(0,o.Lk)("div",null,[(0,o.bF)(s,null,{title:(0,o.k6)((()=>[(0,o.eW)((0,l.v_)(a.t("Upload Input")),1)])),default:(0,o.k6)((()=>[(0,o.bF)(d,{customRequest:a.parseInput,showUploadList:!1},{default:(0,o.k6)((()=>[(0,o.bF)(i,{style:{"font-size":"18px",cursor:"pointer"}})])),_:1},8,["customRequest"])])),_:1})])])),_:1},8,["title"]),(0,o.bF)(b,{spinning:a.loadingInput},{default:(0,o.k6)((()=>[(0,o.bF)(h,{autoSize:"",size:"large",value:a.input,"onUpdate:value":t[0]||(t[0]=e=>a.input=e),placeholder:"","allow-clear":"",maxlength:a.input_max_len},null,8,["value","maxlength"])])),_:1},8,["spinning"])]),v,(0,o.Lk)("div",null,[(0,o.bF)(p,{title:a.t("Output Result"),headStyle:{backgroundColor:"#f2f2f2",userSelect:"none"}},{extra:(0,o.k6)((()=>[(0,o.Lk)("div",null,[(0,o.bF)(s,null,{title:(0,o.k6)((()=>[(0,o.eW)((0,l.v_)(a.t("Copy Output")),1)])),default:(0,o.k6)((()=>[(0,o.bF)(C,{style:{"font-size":"18px"},onClick:t[1]||(t[1]=e=>a.doCopy(a.output))})])),_:1})])])),default:(0,o.k6)((()=>[(0,o.bF)(b,{spinning:n.loading},{default:(0,o.k6)((()=>[(0,o.Lk)("div",f,[(0,o.Lk)("pre",null,(0,l.v_)(a.output&&a.output.length>0?a.output:a.t("No Output Result")),1)])])),_:1},8,["spinning"])])),_:1},8,["title"])]),k,(0,o.Lk)("div",null,[(0,o.bF)(p,{title:a.t("Error Message"),headStyle:{backgroundColor:"#f2f2f2",userSelect:"none"},bodyStyle:{color:"#f63636"}},{extra:(0,o.k6)((()=>[(0,o.Lk)("div",null,[(0,o.bF)(s,null,{title:(0,o.k6)((()=>[(0,o.eW)((0,l.v_)(a.t("Copy Error")),1)])),default:(0,o.k6)((()=>[(0,o.bF)(C,{style:{"font-size":"18px"},onClick:t[2]||(t[2]=e=>a.doCopy(a.stderr))})])),_:1})])])),default:(0,o.k6)((()=>[(0,o.bF)(b,{spinning:n.loading},{default:(0,o.k6)((()=>[(0,o.Lk)("div",y,[(0,o.Lk)("pre",null,(0,l.v_)(a.stderr&&a.stderr.length>0?a.stderr:a.t("No Error Message")),1)])])),_:1},8,["spinning"])])),_:1},8,["title"])])])])),_:1},8,["title"])])}var b=n(7304),C=n(6279),m=n(3277),S=n(9958),x=n(5931),R={name:"ResultInfo",components:{CopyOutlined:b.A,GithubOutlined:C.A,ImportOutlined:m.A},props:["loading"],setup(){const{t:e}=(0,x.s9)(),t=(0,c.KR)(1024),n=(0,c.KR)(""),a=(0,c.KR)(""),o=(0,c.KR)(""),{toClipboard:l}=(0,S.A)(),u=async t=>{t&&t.length>0?(await l(t),d.Ay.success({content:e("copied"),key:e("copied")})):d.Ay.warning({content:e("contentless"),key:e("contentless")})},r=()=>{window.open("https://github.com/kk-OJ/code-judge","_blank")},s=(0,c.KR)(!1),i=a=>{let o=a.file;const l=new FileReader;l.onload=()=>{const t=l.result;n.value=t,d.Ay.success({content:e("Read Input Successfully"),key:e("Read Input Successfully")}),s.value=!1},l.onerror=()=>{d.Ay.error({content:e("Read Input Failed"),key:e("Read Input Failed")}),s.value=!1},s.value=!0,l.readAsText(o.slice(0,t.value))};return{t:e,input:n,output:a,stderr:o,doCopy:u,toGithub:r,parseInput:i,loadingInput:s,input_max_len:t}}},I=n(1241);const L=(0,I.A)(R,[["render",h],["__scopeId","data-v-10562503"]]);var _=L;const F={class:"kk-flex"},A={style:{"margin-left":"20px"}},O={style:{"margin-left":"15px"}},E={class:"kk-class"};function w(e,t,n,a,u,r){const c=(0,o.g2)("SyncOutlined"),s=(0,o.g2)("a-tooltip"),i=(0,o.g2)("a-menu-item"),d=(0,o.g2)("a-menu"),p=(0,o.g2)("DownOutlined"),g=(0,o.g2)("a-button"),v=(0,o.g2)("a-dropdown"),f=(0,o.g2)("AceEditor"),k=(0,o.g2)("a-card");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(k,{title:a.t("Source Code"),bordered:!1,headStyle:{backgroundColor:"#f2f2f2",height:"56px",userSelect:"none"}},{extra:(0,o.k6)((()=>[(0,o.Lk)("div",F,[(0,o.bF)(s,null,{title:(0,o.k6)((()=>[(0,o.eW)((0,l.v_)(a.t("reset")),1)])),default:(0,o.k6)((()=>[(0,o.bF)(c,{onClick:a.resetCode,style:{"font-size":"18px",cursor:"pointer"}},null,8,["onClick"])])),_:1}),(0,o.Lk)("div",A,[(0,o.bF)(v,{trigger:"click"},{overlay:(0,o.k6)((()=>[(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)(i,{onClick:t[0]||(t[0]=e=>a.handleMenuClick("Java")),key:"Java"},{default:(0,o.k6)((()=>[(0,o.eW)("Java")])),_:1}),(0,o.bF)(i,{onClick:t[1]||(t[1]=e=>a.handleMenuClick("C++")),key:"C++"},{default:(0,o.k6)((()=>[(0,o.eW)("C++")])),_:1}),(0,o.bF)(i,{onClick:t[2]||(t[2]=e=>a.handleMenuClick("C")),key:"C"},{default:(0,o.k6)((()=>[(0,o.eW)("C")])),_:1}),(0,o.bF)(i,{onClick:t[3]||(t[3]=e=>a.handleMenuClick("Python")),key:"Python"},{default:(0,o.k6)((()=>[(0,o.eW)("Python")])),_:1}),(0,o.bF)(i,{onClick:t[4]||(t[4]=e=>a.handleMenuClick("Javascript")),key:"Javascript"},{default:(0,o.k6)((()=>[(0,o.eW)("Javascript")])),_:1}),(0,o.bF)(i,{onClick:t[5]||(t[5]=e=>a.handleMenuClick("Go")),key:"Go"},{default:(0,o.k6)((()=>[(0,o.eW)("Go")])),_:1})])),_:1})])),default:(0,o.k6)((()=>[(0,o.bF)(g,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,l.v_)(a.lang)+" ",1),(0,o.bF)(p)])),_:1})])),_:1})]),(0,o.Lk)("div",O,[(0,o.bF)(g,{type:"primary",loading:n.loading,onClick:a.executeCode},{default:(0,o.k6)((()=>[(0,o.eW)((0,l.v_)(a.t("execute")),1)])),_:1},8,["loading","onClick"])])])])),default:(0,o.k6)((()=>[(0,o.Lk)("div",E,[(0,o.bF)(f,{ref:"codeEditorRef",onHandleSave:a.handleSave},null,8,["onHandleSave"])])])),_:1},8,["title"])])}const K={ref:"aceEditorRef",class:"kk-code-editor"};function M(e,t,n,a,l,u){return(0,o.uX)(),(0,o.CE)("div",K,null,512)}var j=n(7569),W=n.n(j),J=(n(2237),n(2342),n(6240),n(9931),n(4634),n(1958),n(4677),n(776),n(437),n(5306),n(5107),n(2683),n(2966),{name:"AceEditor",setup(e,t){const n=(0,c.KR)(),a=(0,c.KR)(null),l=e=>{a.value&&a.value.setValue(e),a.value&&a.value.selection.clearSelection()},u=()=>a.value?a.value.getValue():"",r=e=>{if(e.ctrlKey||e.metaKey)switch(String.fromCharCode(e.which).toLowerCase()){case"s":e.preventDefault(),t.emit("handleSave",a.value.getValue());break}},s=()=>{a.value&&a.value.getSession().getUndoManager().reset()},i=e=>{a.value&&a.value.getSession().setMode(`ace/mode/${e}`)};return(0,o.sV)((()=>{a.value=W().edit(n.value,{autoScrollEditorIntoView:!1,copyWithEmptySelection:!1,showPrintMargin:!1,highlightActiveLine:!0,fontSize:"14px",enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0,theme:"ace/theme/chrome",mode:"ace/mode/java"}),a.value.find("needle",{backwards:!1,wrap:!1,caseSensitive:!1,wholeWord:!1,regExp:!1}),a.value.findNext(),a.value.findPrevious(),n.value.addEventListener("keydown",r)})),(0,o.hi)((()=>{n.value&&n.value.removeEventListener("keydown",r)})),{aceEditorRef:n,aceEditor:a,setValue:l,reset:s,setLanguage:i,getValue:u}}});const N=(0,I.A)(J,[["render",M],["__scopeId","data-v-909108b6"]]);var T=N,V=n(5389),D=n(2041),G={name:"CodeEditor",components:{AceEditor:T,DownOutlined:V.A,SyncOutlined:D.A},props:["loading"],setup(e,t){const{t:n}=(0,x.s9)(),a=(0,c.KR)(),l=(0,c.KR)("Java"),u={Java:{selectLang:"Java",editorLang:"java",executeLang:"java",codeTemplate:"import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        // write your code\n        \n    }\n}"},"C++":{selectLang:"C++",editorLang:"c_cpp",executeLang:"c++",codeTemplate:"#include <iostream>\n#include <cstdio>\n\nusing namespace std;\n\nint main()\n{\n    // write your code\n    \n    return 0;\n}"},C:{selectLang:"C",editorLang:"c_cpp",executeLang:"c",codeTemplate:"#include <stdio.h>\n\nint main()\n{\n    // write your code\n    \n    return 0;\n}"},Python:{selectLang:"Python",editorLang:"python",executeLang:"python",codeTemplate:"# write your code\n"},Javascript:{selectLang:"Javascript",editorLang:"javascript",executeLang:"javascript",codeTemplate:"const fs = require('fs')\nconst data = fs.readFileSync('/dev/stdin')\n// write your code\n"},Go:{selectLang:"Go",editorLang:"golang",executeLang:"golang",codeTemplate:"package main\n\nfunc main() {\n    // write your code\n    \n}"}},r=e=>{l.value=e,a.value&&(a.value.setLanguage(u[l.value].editorLang),localStorage.getItem("code-"+l.value)?a.value.setValue(localStorage.getItem("code-"+l.value)):a.value.setValue(u[l.value].codeTemplate),a.value.reset())},s=()=>{let e=a.value.getValue();t.emit("executeCode",e,u[l.value])},i=()=>{a.value&&a.value.setValue(u[l.value].codeTemplate)},p=e=>{localStorage.setItem("lang",l.value),localStorage.setItem("code-"+l.value,e),d.Ay.success({content:n("saved"),key:n("saved")})};return(0,o.sV)((()=>{localStorage.getItem("lang")?u[localStorage.getItem("lang")]&&r(localStorage.getItem("lang")):r(l.value),localStorage.getItem("code-"+l.value)&&a.value.setValue(localStorage.getItem("code-"+l.value))})),{t:n,codeEditorRef:a,lang:l,handleMenuClick:r,executeCode:s,resetCode:i,handleSave:p}}};const z=(0,I.A)(G,[["render",w],["__scopeId","data-v-59eb4bdc"]]);var P=z,U={name:"App",components:{CodeEditor:P,ResultInfo:_},setup(){const e=(0,c.KR)(!1),t=(0,c.KR)(""),n=(0,c.KR)(""),a="http://120.27.246.64:3000",l=()=>{localStorage.getItem("AccessKey")&&localStorage.getItem("SecretKey")&&(t.value=localStorage.getItem("AccessKey"),n.value=localStorage.getItem("SecretKey")),i().ajax({url:a+"/api/getApiKey",type:"get",success(e){200==e.code&&(t.value=e.data.AccessKey,n.value=e.data.SecretKey,localStorage.setItem("AccessKey",e.data.AccessKey),localStorage.setItem("SecretKey",e.data.SecretKey))}})},u=(0,c.KR)(),r=(o,l)=>{e.value=!0;let r={code:o,lang:l.executeLang};u.value.input&&u.value.input.length>0&&(r.inputs=[u.value.input]),i().ajax({url:a+"/api/execode",type:"post",headers:{Authorization:"Bearer "+t.value+" "+n.value},data:r,success(t){200!=t.code?d.Ay.error({content:t.info,key:t.info}):"执行成功"==t.data.executeType?(u.value.output=t.data.stdout[0],u.value.stderr=t.data.stderr[0]):(u.value.output="",u.value.stderr=t.data.executeDetail),o&&o.length>0&&(localStorage.setItem("code-"+l.selectLang,o),localStorage.setItem("lang",l.selectLang)),e.value=!1}})};return(0,o.sV)((()=>{l(),setInterval((()=>{l()}),24e5)})),{loading:e,executeCode:r,resultInfoRef:u}}};const X=(0,I.A)(U,[["render",r]]);var q=X,H=JSON.parse('{"Source Code":"Source Code","reset":"reset","execute":"execute","saved":"saved","Run Results":"Run Results","Input Data":"Input Data","Upload Input":"Upload Input","Output Result":"Output Result","Copy Output":"Copy Output","No Output Result":"No Output Result","Error Message":"Error Message","Copy Error":"Copy Error","No Error Message":"No Error Message","copied":"copied","contentless":"contentless","Read Input Successfully":"Read Input Successfully","Read Input Failed":"Read Input Failed"}'),B=JSON.parse('{"Source Code":"源代码","reset":"重置","execute":"运行","saved":"保存成功","Run Results":"运行结果","Input Data":"输入数据","Upload Input":"上传输入","Output Result":"输出结果","Copy Output":"复制输出","No Output Result":"无输出结果","Error Message":"错误信息","Copy Error":"复制错误","No Error Message":"无错误信息","copied":"复制成功","contentless":"内容为空","Read Input Successfully":"读取输入成功","Read Input Failed":"读取输入失败"}'),Q=JSON.parse('{"Source Code":"源代碼","reset":"重置","execute":"運行","saved":"保存成功","Run Results":"運行結果","Input Data":"輸入數據","Upload Input":"上傳輸入","Output Result":"輸出結果","Copy Output":"複製輸出","No Output Result":"無輸出結果","Error Message":"錯誤信息","Copy Error":"複製錯誤","No Error Message":"無錯誤信息","copied":"複製成功","contentless":"内容為空","Read Input Successfully":"讀取輸入成功","Read Input Failed":"讀取輸入失敗"}'),$=(n(4188),n(5429)),Y=(n(426),n(8078)),Z=(n(4529),n(2460)),ee=n(309),te=n(110),ne=n(7957),ae=n(2278),oe=n(3656),le=n(5757),ue=n(6406),re=n(7144);let ce=null;const se=()=>{const e=$.Ks.service({lock:!0,text:"Loading"});return e};let ie="en";const de=()=>{i().ajax({url:"https://ipapi.co/json/",type:"get",beforeSend:function(){ce=se()},success(e){try{const t=e.country_code;ie="CN"===t?"cn":"HK"===t||"MO"===t||"TW"===t?"hk":"en"}finally{pe(ie)}},error(){pe(ie)},complete:function(){ce.close()}})};de();const pe=e=>{const t=(0,x.hU)({locale:e,fallbackLocale:"en",messages:{en:H,cn:B,hk:Q}}),n=(0,a.Ef)(q);n.use(t),n.use(Y.A),n.use(Z.Ay).use(ee.Ay).use(te.Ay).use(ne.A).use(ae.A).use(oe.Ay).use(le.A).use(ue.A).use(re.A),n.mount("#app")}}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var l=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(l.exports,l,l.exports,n),l.loaded=!0,l.exports}n.m=e,function(){n.amdD=function(){throw new Error("define cannot be used indirect")}}(),function(){var e=[];n.O=function(t,a,o,l){if(!a){var u=1/0;for(i=0;i<e.length;i++){a=e[i][0],o=e[i][1],l=e[i][2];for(var r=!0,c=0;c<a.length;c++)(!1&l||u>=l)&&Object.keys(n.O).every((function(e){return n.O[e](a[c])}))?a.splice(c--,1):(r=!1,l<u&&(u=l));if(r){e.splice(i--,1);var s=o();void 0!==s&&(t=s)}}return t}l=l||0;for(var i=e.length;i>0&&e[i-1][2]>l;i--)e[i]=e[i-1];e[i]=[a,o,l]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,l,u=a[0],r=a[1],c=a[2],s=0;if(u.some((function(t){return 0!==e[t]}))){for(o in r)n.o(r,o)&&(n.m[o]=r[o]);if(c)var i=c(n)}for(t&&t(a);s<u.length;s++)l=u[s],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(i)},a=self["webpackChunkexecutor"]=self["webpackChunkexecutor"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(8493)}));a=n.O(a)})();
//# sourceMappingURL=app.770d213c.js.map